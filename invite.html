<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nosso Casamento - Evellyn & Guilherme</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600;700&family=Raleway:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Original Styles (Carousel/Book) -->
    <link rel="stylesheet" href="css/carousel.css">
    <link rel="stylesheet" href="css/invite.css">

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js"></script>

</head>
<body>

    <!-- Music Button -->
    <button id="music-btn" class="btn btn-light rounded-circle shadow" style="position: fixed; top: 20px; right: 20px; z-index: 10000; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
        <i class="bi bi-play-fill fs-4"></i>
    </button>

    <!-- Envelope Screen -->
    <div id="envelope-screen">
        <video id="intro-video" playsinline muted loop autoplay>
            <source src="video/video_introducao_sem_audio.mp4" type="video/mp4">
        </video>
        <button id="skip-intro-btn" class="btn btn-primary btn-lg shadow">
            <i class="bi bi-envelope-open-heart me-2"></i> Abrir Convite
        </button>
    </div>

    <main id="main-content" style="display: none;">
        
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg fixed-top">
            <div class="container">
                <a class="navbar-brand" href="#">E & G</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="#hero">In√≠cio</a></li>
                        <li class="nav-item"><a class="nav-link" href="#countdown-section">Contagem</a></li>
                        <li class="nav-item"><a class="nav-link" href="#details">Detalhes</a></li>
                        <li class="nav-item"><a class="nav-link" href="#gallery">√Ålbum</a></li>
                        <li class="nav-item"><a class="nav-link" href="#rsvp">RSVP</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section id="hero">
            <div class="container text-center" data-aos="fade-up">
                <p class="mb-2 text-uppercase letter-spacing-2">Vamos nos casar!</p>
                <h1>Evellyn & Guilherme</h1>
                <p class="mb-4">Convidam voc√™ para celebrar o amor.</p>
                <a href="#rsvp" class="btn btn-primary">Confirmar Presen√ßa</a>
            </div>
        </section>

        <!-- Countdown Section (Adapted Stats) -->
        <section id="countdown-section" class="section stats">
            <div class="container">
                <div class="section-title" data-aos="fade-up">
                    <h2>Contagem Regressiva</h2>
                    <p class="section-subtitle">Falta pouco para o grande dia!</p>
                </div>
                <div class="row justify-content-center" id="countdown">
                    <div class="col-6 col-md-3 stat-item" data-aos="fade-up">
                        <div class="stat-number" id="days">00</div>
                        <div class="stat-label">Dias</div>
                    </div>
                    <div class="col-6 col-md-3 stat-item" data-aos="fade-up" data-aos-delay="100">
                        <div class="stat-number" id="hours">00</div>
                        <div class="stat-label">Horas</div>
                    </div>
                    <div class="col-6 col-md-3 stat-item" data-aos="fade-up" data-aos-delay="200">
                        <div class="stat-number" id="minutes">00</div>
                        <div class="stat-label">Minutos</div>
                    </div>
                    <div class="col-6 col-md-3 stat-item" data-aos="fade-up" data-aos-delay="300">
                        <div class="stat-number" id="seconds">00</div>
                        <div class="stat-label">Segundos</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Details Section (Adapted Services) -->
        <section id="details" class="section bg-white">
            <div class="container">
                <div class="section-title" data-aos="fade-up">
                    <h2>Detalhes do Casamento</h2>
                    <p class="section-subtitle">Informa√ß√µes importantes para voc√™.</p>
                </div>
                
                <!-- Guest Name Display -->
                <div class="text-center mb-5" data-aos="fade-up">
                    <h3 id="card-guest-name" class="text-primary"></h3>
                    <p class="lead">Voc√™ √© nosso convidado especial!</p>
                </div>

                <div class="row g-4">
                    <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                        <div class="card-custom">
                            <div class="service-icon"><i class="bi bi-calendar-heart"></i></div>
                            <h4>Data</h4>
                            <p id="wedding-date-display">
                                <span id="wedding-day-of-week">Quinta-feira</span>, 
                                <span id="wedding-day">19</span> de 
                                <span id="wedding-month">Novembro</span> de 
                                <span id="wedding-year">2026</span>
                            </p>
                        </div>
                    </div>
                    <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                        <div class="card-custom">
                            <div class="service-icon"><i class="bi bi-clock"></i></div>
                            <h4>Hor√°rio</h4>
                            <p id="wedding-time">16:00</p>
                            <p>Cerim√¥nia e Recep√ß√£o</p>
                        </div>
                    </div>
                    <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
                        <div class="card-custom">
                            <div class="service-icon"><i class="bi bi-geo-alt"></i></div>
                            <h4>Local</h4>
                            <p>Sal√£o de Festas Jardim Encantado</p>
                            <p>Belo Jardim, PE</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gallery Section (Book Carousel) -->
        <section id="gallery" class="section">
            <div class="container">
                <div class="section-title" data-aos="fade-up">
                    <h2>Nossos Momentos</h2>
                    <p class="section-subtitle">Um pouco da nossa hist√≥ria.</p>
                </div>
                
                <div class="d-flex justify-content-center" data-aos="zoom-in">
                    <div class="book-container">
                        <div class="book" id="book">
                            <div class="left-side"><div class="cover-back"></div></div>
                            <div class="right-side">
                                <div class="page">
                                    <div class="front cover-front">
                                        <div class="content">
                                            <h3>Nosso √Ålbum</h3>
                                            <p>Vire as p√°ginas</p>
                                        </div>
                                    </div>
                                    <div class="back">
                                        <div class="content"><img src="img/foto.jpg" alt="Foto 1" style="width:100%; height:100%; object-fit:cover;"></div>
                                    </div>
                                </div>
                                <div class="page">
                                    <div class="front">
                                        <div class="content"><img src="img/noiva.jpg" alt="Foto 2" style="width:100%; height:100%; object-fit:cover;"></div>
                                    </div>
                                    <div class="back">
                                        <div class="content"><img src="img/noivo.png" alt="Foto 3" style="width:100%; height:100%; object-fit:cover;"></div>
                                    </div>
                                </div>
                                <div class="page">
                                    <div class="front">
                                        <div class="content"><img src="img/ceu.jpg" alt="Foto 4" style="width:100%; height:100%; object-fit:cover;"></div>
                                    </div>
                                    <div class="back">
                                        <div class="content">
                                            <h3>Fim</h3>
                                            <p>Esperamos voc√™!</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-4">
                    <button id="prev-page-btn" class="btn btn-outline-primary me-2"><i class="bi bi-arrow-left"></i> Anterior</button>
                    <button id="next-page-btn" class="btn btn-outline-primary">Pr√≥xima <i class="bi bi-arrow-right"></i></button>
                </div>
            </div>
        </section>

        <!-- Verse Section -->
        <section class="section bg-white">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-8" data-aos="fade-up">
                        <div class="testimonial">
                            <div class="testimonial-text">
                                <span id="typing-verse"></span>
                            </div>
                            <div class="testimonial-author" id="verse-reference" style="opacity: 0;">1 Cor√≠ntios 13:4</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- RSVP Section -->
        <section id="rsvp" class="section">
            <div class="container">
                <div class="section-title" data-aos="fade-up">
                    <h2>Confirma√ß√£o de Presen√ßa</h2>
                    <p class="section-subtitle">Por favor, confirme sua presen√ßa at√© o dia 10/05.</p>
                </div>
                
                <div class="contact-form" data-aos="fade-up">
                    <div class="text-center mb-4">
                        <p>Sua presen√ßa √© nosso maior presente! O convite √© individual. Crian√ßas s√£o bem-vindas.</p>
                    </div>

                    <div class="mb-4">
                        <label class="form-label fw-bold">Voc√™ levar√° seus filhos?</label>
                        <div class="d-flex justify-content-center gap-4">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="bringing_children" id="children_yes" value="yes" onchange="toggleChildrenDetails(true)">
                                <label class="form-check-label" for="children_yes">Sim</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="bringing_children" id="children_no" value="no" onchange="toggleChildrenDetails(false)" checked>
                                <label class="form-check-label" for="children_no">N√£o</label>
                            </div>
                        </div>
                    </div>

                    <div id="children-details" style="display: none;">
                        <div class="row">
                            <div class="col-md-6">
                                <input type="number" id="children_count" class="form-control" min="1" placeholder="Quantos filhos?">
                            </div>
                            <div class="col-md-6">
                                <input type="text" id="children_ages" class="form-control" placeholder="Idade de cada um (ex: 4, 7)">
                            </div>
                        </div>
                    </div>

                    <div class="text-center mt-4" id="rsvp-section">
                        <button id="rsvp-confirm-btn" class="btn btn-primary btn-lg mx-2 mb-2">Confirmar Presen√ßa üéâ</button>
                        <button id="rsvp-decline-btn" class="btn btn-secondary btn-lg mx-2 mb-2">Recusar Presen√ßa üòî</button>
                        <div id="rsvp-message" class="mt-3 fw-bold"></div>
                        <a id="gift-list-link" href="#" class="btn btn-outline-primary mt-3" style="display: none;">Ver Lista de Presentes üéÅ</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer text-center">
            <div class="container">
                <h3>Evellyn & Guilherme</h3>
                <p>Criando mem√≥rias eternas.</p>
                <div class="copyright">
                    &copy; 2026 <strong>E & G</strong>. Todos os direitos reservados.
                </div>
            </div>
        </footer>

    </main>

    <audio id="wedding-music" src="audio/musica.mp4" preload="auto" loop></audio>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <!-- Original Logic Scripts -->
    <script src="js/invite.js"></script>
    <script src="js/carousel.js"></script>

    <script>
        // Initialize AOS
        AOS.init({
            duration: 1000,
            once: true
        });

        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('shadow-lg');
            } else {
                navbar.classList.remove('shadow-lg');
            }
        });

        // Toggle Children Details
        function toggleChildrenDetails(show) {
            const detailsDiv = document.getElementById('children-details');
            detailsDiv.style.display = show ? 'block' : 'none';
            if(show) {
                // Re-trigger AOS layout refresh if needed
                setTimeout(() => AOS.refresh(), 100);
            }
        }

        // Music Button Logic (Simple toggle)
        const musicBtn = document.getElementById('music-btn');
        const audio = document.getElementById('wedding-music');
        let isPlaying = false;

        musicBtn.addEventListener('click', () => {
            if (isPlaying) {
                audio.pause();
                musicBtn.innerHTML = '<i class="bi bi-play-fill fs-4"></i>';
            } else {
                audio.play();
                musicBtn.innerHTML = '<i class="bi bi-pause-fill fs-4"></i>';
            }
            isPlaying = !isPlaying;
        });

    </script>
</body>
</html>
